!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=221)}([function(e,t,n){var r=n(15),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(6),i=n(39),o=n(40),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(0).Symbol;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.purifyConfig=void 0,t.getAttributeFromNode=function(e,t,n){const r=t.querySelector(e);if(!r)return"";const i=r.getAttribute(n);if(!i)return"";return o.default.sanitize(i,{FORBID_TAGS:["link","style"]})},t.parse=function(e,t=!0){const n=o.default.sanitize(e.replace(/property=/g,"data-property="),{ADD_TAGS:["meta","head","iframe","html","head","body"],ADD_ATTR:[...a.ADD_ATTR,"content"],RETURN_DOM:!0,WHOLE_DOCUMENT:t});if(!t)return n.querySelector("body > *:first-child");return n};var r,i=n(50),o=(r=i)&&r.__esModule?r:{default:r};const a=t.purifyConfig={ADD_TAGS:["iframe","link","meta","head"],ADD_ATTR:["autoplay","frameborder","btd-custom-modal"]}},,function(e){e.exports=JSON.parse('{"FirefoxId":"BetterTweetDeck@erambert.me","opera_key":"/Users/damien/Dropbox/Perso/BTD/better_tweetdeck.pem","Client":{"github_token":"f09b94bd915ee57d5bfba38e64ece6d2e80228f4","debug":false,"remote_inst":true,"APIs":{"imgur":"ff7e860d1872c04","twitch":"5ejfxyxyv1wygu6qftmmf1d7aqcvkwp","tinami":"5898026b684f5","giphy":"l6yX6p85ZhD7tPc2MvUBSEAPXOqXg1dL","tenor":"1EYI5R8LV5RN","dribbble":"16f0dcfca4ea91e137fc9bcc73706308dc0b639add18bf3a559e0f5ac4568733"},"extension_ids":{"chrome":{"release":"","beta":""},"firefox":{"release":"","beta":""},"opera":{"release":"","beta":""}}},"FirefoxBetaId":"BetaTweetDeck@erambert.me"}')},function(e,t,n){var r=n(20),i=n(14);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(1))},,,function(e,t,n){var r=n(44),i=n(2),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(3),i=n(5);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},,function(e,t,n){(function(e){var r=n(0),i=n(45),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(13)(e))},function(e,t,n){var r=n(46),i=n(34),o=n(47),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},,,,,,,,,,,function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(...e){(o.default.Client.debug||window._BTDDebug)&&console.log("[BTD]",...e)};var r,i=n(9),o=(r=i)&&r.__esModule?r:{default:r}},,function(e,t,n){var r=n(3),i=n(2);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(6),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(42),i=n(65),o=n(10);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(43),i=n(18),o=n(4),a=n(22),s=n(19),l=n(23),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),p=!n&&!u&&!d&&l(e),f=n||u||d||p,m=f?r(e.length,String):[],h=m.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,h))||m.push(g);return m}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(3),i=n(2);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(3),i=n(14),o=n(2),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){(function(e){var r=n(15),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(13)(e))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";const r=n(67),i=n(68),o=n(69);function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e,t){return t.decode?i(e):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function c(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function u(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":return(e,t,n)=>{const r="string"==typeof t&&t.split("").indexOf(",")>-1?t.split(","):t;n[e]=r};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},t)),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:s(a,t),n(s(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=u(n[e],t);else r[e]=u(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=c,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";const n=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r?n:null===r?[...n,[a(t,e),"[",i,"]"].join("")]:[...n,[a(t,e),"[",a(i,e),"]=",a(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r?n:null===r?[...n,[a(t,e),"[]"].join("")]:[...n,[a(t,e),"[]=",a(r,e)].join("")];case"comma":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[a(t,e),"=",a(r,e)].join("")]:[[n,a(r,e)].join(",")];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r?n:null===r?[...n,a(t,e)]:[...n,[a(t,e),"=",a(r,e)].join("")]}}(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)),r=Object.assign({},e);if(t.skipNull)for(const e of Object.keys(r))void 0!==r[e]&&null!==r[e]||delete r[e];const i=Object.keys(r);return!1!==t.sort&&i.sort(t.sort),i.map(r=>{const i=e[r];return void 0===i?"":null===i?a(r,t):Array.isArray(i)?i.reduce(n(r),[]).join("&"):a(r,t)+"="+a(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>({url:l(e).split("?")[0]||"",query:d(c(e),t)}),t.stringifyUrl=(e,n)=>{const r=l(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i),a=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url),s=Object.assign(o,e.query);let c=t.stringify(s,n);return c&&(c=`?${c}`),`${r}${c}${a}`}},function(e,t,n){
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */
e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.freeze,i=Object.seal,o=Object.create,a="undefined"!=typeof Reflect&&Reflect,s=a.apply,l=a.construct;s||(s=function(e,t,n){return e.apply(t,n)}),r||(r=function(e){return e}),i||(i=function(e){return e}),l||(l=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var c,u=w(Array.prototype.forEach),d=w(Array.prototype.pop),p=w(Array.prototype.push),f=w(String.prototype.toLowerCase),m=w(String.prototype.match),h=w(String.prototype.replace),g=w(String.prototype.indexOf),y=w(String.prototype.trim),b=w(RegExp.prototype.test),v=(c=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(c,t)});function w(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return s(e,t,r)}}function T(e,r){t&&t(e,null);for(var i=r.length;i--;){var o=r[i];if("string"==typeof o){var a=f(o);a!==o&&(n(r)||(r[i]=a),o=a)}e[o]=!0}return e}function _(t){var n=o(null),r=void 0;for(r in t)s(e,t,[r])&&(n[r]=t[r]);return n}var x=r(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k=r(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),S=r(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=r(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=r(["#text"]),A=r(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),M=r(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),E=r(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),C=r(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),O=i(/\{\{[\s\S]*|[\s\S]*\}\}/gm),N=i(/<%[\s\S]*|[\s\S]*%>/gm),$=i(/^data-[\-\w.\u00B7-\uFFFF]/),L=i(/^aria-[\-\w]+$/),F=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),R=i(/^(?:\w+script|data):/i),I=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function U(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var B=function(){return"undefined"==typeof window?null:window},z=function(e,t){if("object"!==(void 0===e?"undefined":P(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B(),n=function(t){return e(t)};if(n.version="2.1.1",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,o=t.document,a=t.DocumentFragment,s=t.HTMLTemplateElement,l=t.Node,c=t.NodeFilter,w=t.NamedNodeMap,H=void 0===w?t.NamedNodeMap||t.MozNamedAttrMap:w,q=t.Text,G=t.Comment,V=t.DOMParser,K=t.trustedTypes;if("function"==typeof s){var W=o.createElement("template");W.content&&W.content.ownerDocument&&(o=W.content.ownerDocument)}var J=z(K,i),Q=J&&Ae?J.createHTML(""):"",Y=o,X=Y.implementation,Z=Y.createNodeIterator,ee=Y.getElementsByTagName,te=Y.createDocumentFragment,ne=i.importNode,re={};try{re=_(o).documentMode?o.documentMode:{}}catch(e){}var ie={};n.isSupported=X&&void 0!==X.createHTMLDocument&&9!==re;var oe=O,ae=N,se=$,le=L,ce=R,ue=I,de=F,pe=null,fe=T({},[].concat(U(x),U(k),U(S),U(D),U(j))),me=null,he=T({},[].concat(U(A),U(M),U(E),U(C))),ge=null,ye=null,be=!0,ve=!0,we=!1,Te=!1,_e=!1,xe=!1,ke=!1,Se=!1,De=!1,je=!1,Ae=!1,Me=!0,Ee=!0,Ce=!1,Oe={},Ne=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),$e=null,Le=T({},["audio","video","img","source","image","track"]),Fe=null,Re=T({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ie=null,Pe=o.createElement("form"),Ue=function(e){Ie&&Ie===e||(e&&"object"===(void 0===e?"undefined":P(e))||(e={}),e=_(e),pe="ALLOWED_TAGS"in e?T({},e.ALLOWED_TAGS):fe,me="ALLOWED_ATTR"in e?T({},e.ALLOWED_ATTR):he,Fe="ADD_URI_SAFE_ATTR"in e?T(_(Re),e.ADD_URI_SAFE_ATTR):Re,$e="ADD_DATA_URI_TAGS"in e?T(_(Le),e.ADD_DATA_URI_TAGS):Le,ge="FORBID_TAGS"in e?T({},e.FORBID_TAGS):{},ye="FORBID_ATTR"in e?T({},e.FORBID_ATTR):{},Oe="USE_PROFILES"in e&&e.USE_PROFILES,be=!1!==e.ALLOW_ARIA_ATTR,ve=!1!==e.ALLOW_DATA_ATTR,we=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Te=e.SAFE_FOR_TEMPLATES||!1,_e=e.WHOLE_DOCUMENT||!1,Se=e.RETURN_DOM||!1,De=e.RETURN_DOM_FRAGMENT||!1,je=e.RETURN_DOM_IMPORT||!1,Ae=e.RETURN_TRUSTED_TYPE||!1,ke=e.FORCE_BODY||!1,Me=!1!==e.SANITIZE_DOM,Ee=!1!==e.KEEP_CONTENT,Ce=e.IN_PLACE||!1,de=e.ALLOWED_URI_REGEXP||de,Te&&(ve=!1),De&&(Se=!0),Oe&&(pe=T({},[].concat(U(j))),me=[],!0===Oe.html&&(T(pe,x),T(me,A)),!0===Oe.svg&&(T(pe,k),T(me,M),T(me,C)),!0===Oe.svgFilters&&(T(pe,S),T(me,M),T(me,C)),!0===Oe.mathMl&&(T(pe,D),T(me,E),T(me,C))),e.ADD_TAGS&&(pe===fe&&(pe=_(pe)),T(pe,e.ADD_TAGS)),e.ADD_ATTR&&(me===he&&(me=_(me)),T(me,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&T(Fe,e.ADD_URI_SAFE_ATTR),Ee&&(pe["#text"]=!0),_e&&T(pe,["html","head","body"]),pe.table&&(T(pe,["tbody"]),delete ge.tbody),r&&r(e),Ie=e)},Be=function(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=Q}},ze=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(n.removed,{attribute:null,from:t})}t.removeAttribute(e)},He=function(e){var t=void 0,n=void 0;if(ke)e="<remove></remove>"+e;else{var r=m(e,/^[\r\n\t ]+/);n=r&&r[0]}var i=J?J.createHTML(e):e;try{t=(new V).parseFromString(i,"text/html")}catch(e){}if(!t||!t.documentElement){var a=(t=X.createHTMLDocument("")).body;a.parentNode.removeChild(a.parentNode.firstElementChild),a.outerHTML=i}return e&&n&&t.body.insertBefore(o.createTextNode(n),t.body.childNodes[0]||null),ee.call(t,_e?"html":"body")[0]},qe=function(e){return Z.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,(function(){return c.FILTER_ACCEPT}),!1)},Ge=function(e){return!(e instanceof q||e instanceof G||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof H&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Ve=function(e){return"object"===(void 0===l?"undefined":P(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":P(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ke=function(e,t,r){ie[e]&&u(ie[e],(function(e){e.call(n,t,r,Ie)}))},We=function(e){var t=void 0;if(Ke("beforeSanitizeElements",e,null),Ge(e))return Be(e),!0;if(m(e.nodeName,/[\u0080-\uFFFF]/))return Be(e),!0;var r=f(e.nodeName);if(Ke("uponSanitizeElement",e,{tagName:r,allowedTags:pe}),("svg"===r||"math"===r)&&0!==e.querySelectorAll("p, br").length)return Be(e),!0;if(!Ve(e.firstElementChild)&&(!Ve(e.content)||!Ve(e.content.firstElementChild))&&b(/<[!/\w]/g,e.innerHTML)&&b(/<[!/\w]/g,e.textContent))return Be(e),!0;if(!pe[r]||ge[r]){if(Ee&&!Ne[r]&&"function"==typeof e.insertAdjacentHTML)try{var i=e.innerHTML;e.insertAdjacentHTML("AfterEnd",J?J.createHTML(i):i)}catch(e){}return Be(e),!0}return"noscript"!==r&&"noembed"!==r||!b(/<\/no(script|embed)/i,e.innerHTML)?(Te&&3===e.nodeType&&(t=e.textContent,t=h(t,oe," "),t=h(t,ae," "),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ke("afterSanitizeElements",e,null),!1):(Be(e),!0)},Je=function(e,t,n){if(Me&&("id"===t||"name"===t)&&(n in o||n in Pe))return!1;if(ve&&b(se,t));else if(be&&b(le,t));else{if(!me[t]||ye[t])return!1;if(Fe[t]);else if(b(de,h(n,ue,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==g(n,"data:")||!$e[e])if(we&&!b(ce,h(n,ue,"")));else if(n)return!1}return!0},Qe=function(e){var t=void 0,r=void 0,i=void 0,o=void 0;Ke("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:me};for(o=a.length;o--;){var l=t=a[o],c=l.name,u=l.namespaceURI;if(r=y(t.value),i=f(c),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,Ke("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(ze(c,e),s.keepAttr))if(b(/\/>/i,r))ze(c,e);else{Te&&(r=h(r,oe," "),r=h(r,ae," "));var p=e.nodeName.toLowerCase();if(Je(p,i,r))try{u?e.setAttributeNS(u,c,r):e.setAttribute(c,r),d(n.removed)}catch(e){}}}Ke("afterSanitizeAttributes",e,null)}},Ye=function e(t){var n=void 0,r=qe(t);for(Ke("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Ke("uponSanitizeShadowNode",n,null),We(n)||(n.content instanceof a&&e(n.content),Qe(n));Ke("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var o=void 0,s=void 0,c=void 0,u=void 0,d=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Ve(e)){if("function"!=typeof e.toString)throw v("toString is not a function");if("string"!=typeof(e=e.toString()))throw v("dirty is not a string, aborting")}if(!n.isSupported){if("object"===P(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Ve(e))return t.toStaticHTML(e.outerHTML)}return e}if(xe||Ue(r),n.removed=[],"string"==typeof e&&(Ce=!1),Ce);else if(e instanceof l)1===(s=(o=He("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName?o=s:"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!Se&&!Te&&!_e&&-1===e.indexOf("<"))return J&&Ae?J.createHTML(e):e;if(!(o=He(e)))return Se?null:Q}o&&ke&&Be(o.firstChild);for(var p=qe(Ce?e:o);c=p.nextNode();)3===c.nodeType&&c===u||We(c)||(c.content instanceof a&&Ye(c.content),Qe(c),u=c);if(u=null,Ce)return e;if(Se){if(De)for(d=te.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return je&&(d=ne.call(i,d,!0)),d}var f=_e?o.outerHTML:o.innerHTML;return Te&&(f=h(f,oe," "),f=h(f,ae," ")),J&&Ae?J.createHTML(f):f},n.setConfig=function(e){Ue(e),xe=!0},n.clearConfig=function(){Ie=null,xe=!1},n.isValidAttribute=function(e,t,n){Ie||Ue({});var r=f(e),i=f(t);return Je(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(ie[e]=ie[e]||[],p(ie[e],t))},n.removeHook=function(e){ie[e]&&d(ie[e])},n.removeHooks=function(e){ie[e]&&(ie[e]=[])},n.removeAllHooks=function(){ie={}},n}()}()},,,,,,,,,,,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},,,function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(35),i=n(66),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(48)(Object.keys,Object);e.exports=r},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var l=o[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";function r(e){const t=document.querySelector('.drawer[data-drawer="compose"]'),n=()=>{t.querySelector("textarea.js-compose-text")||e(!1),e(!0)},r=new MutationObserver(n);return r.observe(t,{childList:!0}),n(),()=>{r.disconnect()}}Object.defineProperty(t,"__esModule",{value:!0}),t.insertInsideComposer=function(e){const t=document.querySelector("textarea.js-compose-text");if(!t)return void console.error("[BTD] No composer present");(function(e,t){if(document.selection){e.focus(),document.selection.createRange().text=t}else if(e.selectionStart||"0"===e.selectionStart){const n=e.selectionStart,r=e.selectionEnd;e.value=e.value.substring(0,n)+t+e.value.substring(r,e.value.length)}else e.value+=t})(t,e),t.dispatchEvent(new KeyboardEvent("input")),t.dispatchEvent(new Event("change"))},t.onComposerShown=r,t.onComposerDisabledStateChange=function(e){const t=new MutationObserver(()=>{const t=document.querySelector('.drawer[data-drawer="compose"] textarea.js-compose-text');e(t.disabled)});r(e=>{if(!e)return void t.disconnect();const n=document.querySelector('.drawer[data-drawer="compose"] textarea.js-compose-text');n&&t.observe(n,{attributeFilter:["disabled"],attributes:!0})})}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(98);e.exports=function(e){return null==e?"":r(e)}},,,,,,,function(e,t,n){var r=n(6),i=n(64),o=n(4),a=n(38),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r,i=i||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},l=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(t,u,d){d||(t=c(t));var p,f=this,m="application/octet-stream"===t.type,h=function(){!function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(e){s(e)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,i)return p=n().createObjectURL(t),void setTimeout((function(){var e,t;r.href=p,r.download=u,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),h(),l(p),f.readyState=f.DONE}));!function(){if((a||m&&o)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,h()},r.readAsDataURL(t),void(f.readyState=f.INIT)}(p||(p=n().createObjectURL(t)),m)?e.location.href=p:e.open(p,"_blank")||(e.location.href=p);f.readyState=f.DONE,h(),l(p)}()},d=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */e.exports?e.exports.saveAs=i:null!==n(61)&&null!==n(100)&&(void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.giphySearch=t.giphyBlock=t.modalTemplate=t.previewTemplate=void 0;var r=a(n(50)),i=a(n(103)),o=n(7);function a(e){return e&&e.__esModule?e:{default:e}}const s={preview:'\n  <div class="js-media media-preview position-rel btd-media-thumbnail">\n  <div {{#needsProvider}} data-btd-provider="{{provider}}" {{/needsProvider}} class="js-media-preview-container position-rel {{^isMediaPreviewLarge}}{{^isMediaPreviewCompact}}{{^isMediaPreviewInQuoted}}margin-vm{{/isMediaPreviewInQuoted}}{{/isMediaPreviewCompact}}{{/isMediaPreviewLarge}}  {{#isMediaPreviewSmall}}{{#isPossiblySensitive}}media-size-medium{{/isPossiblySensitive}}{{/isMediaPreviewSmall}} {{#isMediaPreviewCompact}}media-size-medium margin-t--8{{/isMediaPreviewCompact}} {{#isMediaPreviewInQuoted}}margin-tm{{/isMediaPreviewInQuoted}} {{#isAnimatedGif}}is-gif{{/isAnimatedGif}} {{#isVideo}}is-video{{/isVideo}} {{#isMediaPreviewLarge}}margin-tm item-box-full-bleed{{/isMediaPreviewLarge}}">\n    {{#isMediaPreviewLarge}}\n      <div class="media-caret"></div>\n    {{/isMediaPreviewLarge}}\n    {{#isAnimatedGif}}\n      {{#animatedGif}} {{> media/animated_gif}} {{/animatedGif}}\n    {{/isAnimatedGif}} {{^isAnimatedGif}}\n    <a class="js-media-image-link block med-link media-item {{thumbSizeClass}} {{#isPossiblySensitive}}is-invisible{{/isPossiblySensitive}} {{#needsSecureUrl}}js-needs-secure-url{{/needsSecureUrl}} {{^isGalleryView}}is-zoomable{{/isGalleryView}}"\n     {{#needsSecureUrl}} data-original-url="{{mediaPreviewSrc}}{{imageSrc}}" {{/needsSecureUrl}} href="{{url}}" target="_blank" {{^needsSecureUrl}} {{^imageSrc}} style="background-image:url(\'{{mediaPreviewSrc}}\')" {{/imageSrc}} {{/needsSecureUrl}}\n    data-media-entity-id="{{mediaId}}"> {{#isVideo}} {{> media/video_overlay}} {{/isVideo}}  {{#imageSrc}} <img class="{{thumbClass}}" src="{{^needsSecureUrl}}{{imageSrc}}{{/needsSecureUrl}}" alt="Media preview"> {{/imageSrc}} </a> {{/isAnimatedGif}}\n    {{> status/media_sensitive}}</div></div>\n  ',videoModal:'<div data-btd-provider="{{provider}}" class="js-mediatable ovl-block is-inverted-light" btd-custom-modal>\n    <div class="s-padded">\n      <div class="js-modal-panel mdl s-full med-fullpanel btd-embed-panel">\n        <a href="#" class="mdl-dismiss js-dismiss mdl-dismiss-media mdl-btn-media" rel="dismiss"><i class="icon txt-size--24 icon-close"></i></a>\n        <div class="btd-embed-container -video">\n          {{&videoEmbed}}\n          {{#hasGIFDownload}}\n            <div class="gif-download" style="text-align: center; margin-top: 10px;">\n              <a href="#" data-btd-dl-gif rel="url" target="_blank">Download as .GIF</a>\n            </div>\n          {{/hasGIFDownload}}\n        </div>\n        <div id="media-gallery-tray"></div>\n        <div class="js-med-tweet med-tweet">{{&tweetEmbed}}</div>\n      </div>\n    </div>\n  </div>',imageModal:'<div class="js-mediatable ovl-block is-inverted-light" btd-custom-modal>\n    <div class="s-padded">\n      <div class="js-modal-panel mdl s-full med-fullpanel">\n        <a href="#" class="mdl-dismiss js-dismiss mdl-dismiss-media mdl-btn-media" rel="dismiss"><i class="icon txt-size--24 icon-close"></i></a>\n        <div class="js-embeditem med-embeditem btd-embed-container">\n          <div class="btd-embed-and-links">\n            <img class="media-img" src="{{imageUrl}}" alt="{{AltInfo}}" data-btdsetmax>\n          </div>\n          \n        </div>\n        <div id="media-gallery-tray"></div>\n        <div class="js-med-tweet med-tweet">{{&tweetEmbed}}</div>\n      </div>\n    </div>\n  </div>'},l={preview:{animatedGif:null,imageSrc:null,isAnimatedGif:!1,isGalleryView:!0,isMediaPreviewInQuoted:!1,isMediaPreviewLarge:!1,isMediaPreviewCompact:!0,isMediaPreviewSmall:!1,isPossiblySensitive:!1,isVideo:!1,mediaId:0,mediaPreviewSrc:"foo",needsSecureUrl:!1,thumbSizeClass:"HUGE",url:"apple.com"},modal:{imageUrl:void 0,isVideo:!0,originalUrl:void 0,videoEmbed:void 0}};t.previewTemplate=({mediaPreviewSrc:e,sourceLink:t,size:n,type:r="picture",provider:o="default"})=>{const a=e;if("image"===r&&!e.includes("imgur.com")&&e){(e=new URL(e).searchParams.get("url")).includes("https")||(e=a)}return i.default.render(s.preview,Object.assign(l.preview,{url:t,mediaPreviewSrc:e,isVideo:"image"!==r,isMediaPreviewLarge:"large"===n,isMediaPreviewCompact:"medium"===n,isMediaPreviewSmall:"small"===n,thumbSizeClass:`media-size-${n||"medium"}`,needsProvider:!["default"].includes(o),provider:(o||"").toLowerCase()}))},t.modalTemplate=({imageUrl:e,originalUrl:t,type:n,videoEmbed:a=null,provider:c="default",hasGIFDownload:u=!1})=>{if("image"===n){e=new URL(e).searchParams.get("url")}return i.default.render("image"===n?s.imageModal:s.videoModal,Object.assign(l.modal,{imageUrl:e,videoEmbed:r.default.sanitize(a,o.purifyConfig),originalUrl:t,isVideo:"image"!==n,provider:(c||"").toLowerCase(),hasGIFDownload:u}))},t.giphyBlock=({preview:e,url:t,source:n})=>i.default.render('\n  <div class="btd-giphy-block-wrapper">\n    <img src="{{{previewUrl}}}" class="btd-giphy-block" height="{{height}}" width="{{width}}" data-btd-url="{{{url}}}" data-btd-source="{{source}}" />\n  </div>\n',{previewUrl:e.url,width:e.width,height:e.height,url:t,source:n}),t.giphySearch=()=>i.default.render('\n    <header class="js-compose-header compose-header">\n      <div class="position-rel compose-title inline-block">\n        <h1 class="js-compose-title compose-title-text txt-ellipsis inline-block">Add a GIF</h1>\n      </div>\n      <i class="btd-giphy-close is-actionable icon icon-close margin-vm pull-right"></i>\n    </header>\n    <div class="giphy-searchbox">\n      <input type="search" class="giphy-search-input" placeholder="Search..." />\n    </div>\n    <div class="giphy-wrapper scroll-v scroll-styled-v">\n      <div class="giphy-content"></div>\n    </div>\n  ')},function(e,t,n){var r,i,o,a;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */a=function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(e){return"function"==typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}var a=RegExp.prototype.test,s=/\S/;function l(e){return!function(e,t){return a.call(e,t)}(s,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,d=/\s+/,p=/\s*=/,f=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;function h(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function y(){this.cache={}}h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var i,a,s=this,l=!1;s;){if(e.indexOf(".")>0)for(t=s.view,i=e.split("."),a=0;null!=t&&a<i.length;)a===i.length-1&&(l=o(t,i[a])),t=t[i[a++]];else t=s.view[e],l=o(s.view,e);if(l)break;s=s.parent}n[e]=t}return r(t)&&(t=t.call(this.view)),t},y.prototype.clearCache=function(){this.cache={}},y.prototype.parse=function(t,r){var o=this.cache,a=o[t];return null==a&&(a=o[t]=function(t,r){if(!t)return[];var o,a,s,c=[],g=[],y=[],b=!1,v=!1;function w(){if(b&&!v)for(;y.length;)delete g[y.pop()];else y=[];b=!1,v=!1}function T(e){if("string"==typeof e&&(e=e.split(d,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(i(e[0])+"\\s*"),a=new RegExp("\\s*"+i(e[1])),s=new RegExp("\\s*"+i("}"+e[1]))}T(r||e.tags);for(var _,x,k,S,D,j,A=new h(t);!A.eos();){if(_=A.pos,k=A.scanUntil(o))for(var M=0,E=k.length;M<E;++M)l(S=k.charAt(M))?y.push(g.length):v=!0,g.push(["text",S,_,_+1]),_+=1,"\n"===S&&w();if(!A.scan(o))break;if(b=!0,x=A.scan(m)||"name",A.scan(u),"="===x?(k=A.scanUntil(p),A.scan(p),A.scanUntil(a)):"{"===x?(k=A.scanUntil(s),A.scan(f),A.scanUntil(a),x="&"):k=A.scanUntil(a),!A.scan(a))throw new Error("Unclosed tag at "+A.pos);if(D=[x,k,_,A.pos],g.push(D),"#"===x||"^"===x)c.push(D);else if("/"===x){if(!(j=c.pop()))throw new Error('Unopened section "'+k+'" at '+_);if(j[1]!==k)throw new Error('Unclosed section "'+j[1]+'" at '+_)}else"name"===x||"{"===x||"&"===x?v=!0:"="===x&&T(k)}if(j=c.pop())throw new Error('Unclosed section "'+j[1]+'" at '+A.pos);return function(e){for(var t,n=[],r=n,i=[],o=0,a=e.length;o<a;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(g))}(t,r)),a},y.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof g?t:new g(t);return this.renderTokens(r,i,n,e)},y.prototype.renderTokens=function(e,t,n,r){for(var i,o,a,s="",l=0,c=e.length;l<c;++l)a=void 0,"#"===(o=(i=e[l])[0])?a=this.renderSection(i,t,n,r):"^"===o?a=this.renderInverted(i,t,n,r):">"===o?a=this.renderPartial(i,t,n,r):"&"===o?a=this.unescapedValue(i,t):"name"===o?a=this.escapedValue(i,t):"text"===o&&(a=this.rawValue(i)),void 0!==a&&(s+=a);return s},y.prototype.renderSection=function(e,t,i,o){var a=this,s="",l=t.lookup(e[1]);if(l){if(n(l))for(var c=0,u=l.length;c<u;++c)s+=this.renderTokens(e[4],t.push(l[c]),i,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],t.push(l),i,o);else if(r(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(t.view,o.slice(e[3],e[5]),(function(e){return a.render(e,t,i)})))&&(s+=l)}else s+=this.renderTokens(e[4],t,i,o);return s}},y.prototype.renderInverted=function(e,t,r,i){var o=t.lookup(e[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(e[4],t,r,i)},y.prototype.renderPartial=function(e,t,n){if(n){var i=r(n)?n(e[1]):n[e[1]];return null!=i?this.renderTokens(this.parse(i),t,n,i):void 0}},y.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},y.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},y.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.2",e.tags=["{{","}}"];var b=new y;return e.clearCache=function(){return b.clearCache()},e.parse=function(e,t){return b.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return b.render(e,t,r)},e.to_html=function(t,n,i,o){var a=e.render(t,n,i);if(!r(o))return a;o(a)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))},e.Scanner=h,e.Context=g,e.Writer=y,e},t&&"string"!=typeof t.nodeName?a(t):(i=[t],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.proxyEvent=void 0;var r=y(n(222)),i=y(n(237)),o=y(n(240)),a=y(n(243)),s=y(n(9)),l=y(n(99)),c=y(n(244)),u=y(n(245)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(246)),p=n(253),f=y(n(36)),m=n(102),h=n(70),g=y(n(254));function y(e){return e&&e.__esModule?e:{default:e}}const b=JSON.parse(document.querySelector("[data-btd-settings]").dataset.btdSettings);let v;try{v=(0,c.default)()}catch(e){}window.$=v&&v.findFunction("jQuery")&&v.findFunction("jquery:")[0];const w=v.findModule("getHogan")[0].getHogan;if(v.findModule("getHogan")[0].getHogan=function(...e){const[t]=e,n=`${t}.mustache`;return TD.mustaches[n]?TD.mustaches[n]:w(...e)},b.no_tco){const e=document.createElement("span"),t=TD.util.createUrlAnchor;TD.util.createUrlAnchor=n=>{let r=t(n);e.innerHTML=r;const i=e.querySelector("a");return i&&(i.href=i.dataset.fullUrl,r=i.outerHTML),r}}const T=(e,t)=>({fileExtension:t.replace(/:[a-z]+$/,"").split(".").pop(),fileName:t.split("/").pop().split(".")[0],postedUser:e.retweetedStatus?e.retweetedStatus.user.screenName:e.user.screenName,tweetId:e.retweetedStatus?e.retweetedStatus.id:e.id,year:e.created.getFullYear(),month:(e.created.getMonth()+1).toString().padStart(2,"0"),day:e.created.getDate().toString().padStart(2,"0"),hours:e.created.getHours().toString().padStart(2,"0"),minutes:e.created.getMinutes().toString().padStart(2,"0"),seconds:e.created.getSeconds().toString().padStart(2,"0")}),_=(e,t)=>{const n=TD.controller.columnManager.get(t);if(!n)return null;const r=[];Object.keys(n.updateIndex).forEach(e=>{const t=n.updateIndex[e];t&&r.push(t),t&&t.retweetedStatus&&r.push(t.retweetedStatus),t&&t.quotedTweet&&r.push(t.quotedTweet),t&&t.messages&&r.push(...t.messages),t&&t.targetTweet&&r.push(t.targetTweet)}),n.detailViewComponent&&(n.detailViewComponent.chirp&&r.push(n.detailViewComponent.chirp),n.detailViewComponent.mainChirp&&r.push(n.detailViewComponent.mainChirp),n.detailViewComponent.repliesTo&&n.detailViewComponent.repliesTo.repliesTo&&r.push(...n.detailViewComponent.repliesTo.repliesTo),n.detailViewComponent.replies&&n.detailViewComponent.replies.replies&&r.push(...n.detailViewComponent.replies.replies));const i=r.find(t=>t.id===String(e));return i||((0,f.default)(`did not find chirp ${e} within ${t}`),null)},x=e=>{const t=e.closest("[data-key]");if(!t)throw new Error("Not a chirp");const n=t.getAttribute("data-key");let r=t.closest("[data-column]");if(!r){if(r=document.querySelector(`[data-column] [data-key="${n}"]`),!r||!r.parentNode)throw new Error("Chirp has no column");r=r.parentNode}const i=r.getAttribute("data-column"),o=_(n,i);return o._btd={chirpKey:n,columnKey:i},o};s.default.Client.debug&&(window.BTD={},window.BTD.debug={getChirpFromElement:x,getChirpFromKey:_,findMustache:e=>Object.keys(TD.mustaches).filter(t=>TD.mustaches[t].toLowerCase().includes(e.toLowerCase()))});const k=t.proxyEvent=(e,t={})=>{e=`BTDC_${e}`;let n=[];t=JSON.stringify(t,(e,t)=>{if("object"==typeof t&&null!==t){if(-1!==n.indexOf(t)&&!t.screenName)return null;n.push(t)}return t}),n=null,window.postMessage({name:e,detail:t},"https://tweetdeck.twitter.com")},S=e=>{if(e)return e.chirpType=e.chirpType,e.action=e.action,e};TD.services.TwitterStatus.prototype.getOGContext=function(){const e=this.getReplyingToUsers()||[],t=this.user.screenName===this.inReplyToScreenName;return 0===e.length||t&&1===e.length?"":e.filter(n=>!(t&&e.length>1)||n.screenName!==this.user.screenName).filter(e=>{const t=`<a href="https://twitter.com/${e.screenName}/"`;return 0!==this.htmlText.indexOf(t)}).map(e=>TD.ui.template.render("text/profile_link",{user:e})).concat("").join(" ")},b.collapse_columns&&(window.localStorage.getItem("btd_collapsed_columns")||window.localStorage.setItem("btd_collapsed_columns",JSON.stringify({}))),TD.mustaches["compose/compose_inline_reply.mustache"]=TD.mustaches["compose/compose_inline_reply.mustache"].replace("</textarea> {{>",'</textarea> <ul class="lst lst-modal typeahead btd-emoji-typeahead"></ul> {{>'),TD.mustaches["column/column_header.mustache"]=TD.mustaches["column/column_header.mustache"].replace("{{/withMarkAllRead}} {{^isTemporary}}",`{{/withMarkAllRead}} {{^isTemporary}}\n        ${b.clear_column_action?'\n          <a class="js-action-header-button column-header-link btd-clear-column-link" href="#" data-action="clear">\n            <i class="icon icon-clear-timeline"></i>\n          </a>':""}\n        ${b.collapse_columns?'\n        <a class="js-action-header-button column-header-link btd-toggle-collapse-column-link" href="#" data-action="toggle-collapse-column">\n          <i class="icon icon-minus"></i>\n        </a>':""}`),TD.old_mustaches=Object.assign({},TD.mustaches),TD.globalRenderOptions.btd={usernameFromURL:function(){return function(e,t){const n=t?t(e):Hogan.compile(e).render(this);return n.match(/https:\/\/(?:www.|)twitter.com\/(?:@|)([A-Za-z0-9_]+)/)&&n.match(/https:\/\/(?:www.|)twitter.com\/(?:@|)([A-Za-z0-9_]+)/)[1]}}},TD.mustaches["btd/download_filename_format.mustache"]=b.download_filename_format,b.old_replies&&(TD.mustaches["status/tweet_single.mustache"]=TD.mustaches["status/tweet_single.mustache"].replace('lang="{{lang}}">{{{htmlText}}}</p>','lang="{{lang}}">{{#getMainTweet}}{{{getOGContext}}}{{/getMainTweet}}{{{htmlText}}}</p>'),TD.mustaches["status/tweet_detail.mustache"]=TD.mustaches["status/tweet_detail.mustache"].replace('lang="{{lang}}">{{{htmlText}}}</p>','lang="{{lang}}">{{#getMainTweet}}{{{getOGContext}}}{{/getMainTweet}}{{{htmlText}}}</p>'),TD.mustaches["status/quoted_tweet.mustache"]=TD.mustaches["status/quoted_tweet.mustache"].replace('with-linebreaks">{{{htmlText}}}','with-linebreaks">{{#getMainTweet}}{{{getOGContext}}}{{/getMainTweet}}{{{htmlText}}}')),b.css.og_dark_theme&&(TD.mustaches["column.mustache"]=TD.mustaches["column.mustache"].replace('<div class="js-column-holder column-holder">','<div class="js-column-holder column-holder {{#isTemporary}} is-inverted-dark {{/isTemporary}}">')),TD.mustaches["status/tweet_detail.mustache"]=TD.mustaches["status/tweet_detail.mustache"].replace("</footer> {{/getMainTweet}}",'</footer> {{/getMainTweet}} <i class="sprite tweet-dogear"></i>'),TD.mustaches["status/tweet_single.mustache"]=TD.mustaches["status/tweet_single.mustache"].replace("{{>status/tweet_single_footer}} ",'{{>status/tweet_single_footer}} <i class="sprite tweet-dogear"></i>'),b.old_replies&&(TD.mustaches["status/tweet_detail.mustache"]=TD.mustaches["status/tweet_detail.mustache"].replace('lang="{{lang}}">{{{htmlText}}}</p>','lang="{{lang}}">{{#getMainTweet}}{{{getOGContext}}}{{/getMainTweet}}{{{htmlText}}}</p>')),b.old_replies&&(TD.mustaches["status/quoted_tweet.mustache"]=TD.mustaches["status/quoted_tweet.mustache"].replace('with-linebreaks">{{{htmlText}}}','with-linebreaks">{{#getMainTweet}}{{{getOGContext}}}{{/getMainTweet}}{{{htmlText}}}')),(b.hotlink_item||b.download_item||b.block_item||b.mute_item)&&(TD.mustaches["status/tweet_single_actions.mustache"]=TD.mustaches["status/tweet_single_actions.mustache"].replace("{{_i}}Like{{/i}} </span> </a> </li>",`{{_i}}Like{{/i}} </span> </a> </li>\n           {{#tweet.entities.media.length}}\n           ${b.hotlink_item?'\n           <li class="tweet-action-item btd-tweet-action-item pull-left margin-r--10 margin-l--1">\n             <a class="js-show-tip tweet-action btd-tweet-action btd-clipboard position-rel" href="#" \n               data-btd-action="hotlink-media" rel="hotlink" title="Copy links to media"> \n               <i class="js-icon-attachment icon icon-attachment txt-center txt-size--16 margin-t---1"></i>\n               <span class="is-vishidden"> {{_i}}Copy links to media{{/i}} </span>\n             </a>\n           </li>':""}\n           ${b.download_item?'\n           <li class="tweet-action-item btd-tweet-action-item pull-left margin-r--10 margin-l--1">\n             <a class="js-show-tip tweet-action btd-tweet-action position-rel" href="#" \n               data-btd-action="download-media" rel="download" title="Download media"> \n               <i class="js-icon icon icon-download txt-center txt-size--16 margin-t---1"></i>\n               <span class="is-vishidden"> {{_i}}Download media{{/i}} </span>\n             </a>\n           </li>':""}\n           {{/tweet.entities.media.length}}\n              ${b.mute_item?'\n              <li class="tweet-action-item btd-tweet-action-item pull-left margin-r--10 margin-l--1">\n              <a class="js-show-tip tweet-action btd-tweet-action btd-clipboard position-rel" href="#" \n                data-btd-action="mute-account" rel="action" title="Mute {{#getMainTweet}}@{{user.screenName}}{{/getMainTweet}}"> \n                <i class="js-icon-attachment icon icon-muted txt-center txt-size--16 margin-t---1"></i>\n                <span class="is-vishidden"> {{_i}}Mute {{#getMainTweet}}@{{user.screenName}}{{/getMainTweet}}{{/i}} </span>\n              </a>\n            </li>\n              ':""}\n${b.block_item?'\n              <li class="tweet-action-item btd-tweet-action-item pull-left margin-r--10 margin-l--1">\n              <a class="js-show-tip tweet-action btd-tweet-action btd-clipboard position-rel" href="#" \n                data-btd-action="block-account" rel="action" title="Block {{#getMainTweet}}@{{user.screenName}}{{/getMainTweet}}"> \n                <i class="js-icon-attachment icon icon-blocked txt-center txt-size--16 margin-t---1"></i>\n                <span class="is-vishidden"> {{_i}}Block {{#getMainTweet}}@{{user.screenName}}{{/getMainTweet}}{{/i}} </span>\n              </a>\n            </li>\n              ':""}\n           `),TD.mustaches["status/tweet_detail_actions.mustache"]=TD.mustaches["status/tweet_detail_actions.mustache"].replace("{{_i}}Like{{/i}} </span> </a> {{/account}} </li>",`{{_i}}Like{{/i}} </span> </a> {{/account}} </li>\n           {{#getMainTweet}}\n           {{#entities.media.length}}\n           ${b.hotlink_item?'\n           <li class="tweet-detail-action-item btd-tweet-detail-action-item">\n             <a class="js-show-tip tweet-detail-action btd-tweet-detail-action btd-clipboard position-rel" href="#"\n               data-btd-action="hotlink-media" rel="hotlink" title="Copy links to media">\n               <i class="js-icon-attachment icon icon-attachment txt-center"></i>\n               <span class="is-vishidden"> {{_i}}Copy links to media{{/i}} </span>\n             </a>\n           </li>':""}\n           ${b.download_item?'\n           <li class="tweet-detail-action-item btd-tweet-detail-action-item">\n             <a class="js-show-tip tweet-detail-action btd-tweet-detail-action position-rel" href="#"\n               data-btd-action="download-media" rel="download" title="Download media">\n               <i class="js-icon icon icon-download txt-center"></i>\n               <span class="is-vishidden"> {{_i}}Download media{{/i}} </span>\n             </a>\n           </li>':""}\n           {{/entities.media.length}}\n           ${b.mute_item?'\n                               <li class="tweet-detail-action-item btd-tweet-detail-action-item">\n                                 <a class="js-show-tip tweet-detail-action btd-tweet-detail-action btd-clipboard position-rel" href="#"\n                                   data-btd-action="hotlink-media" rel="action" title="Mute {{#getMainTweet}}@{{user.screenName}}{{/getMainTweet}}">\n                                   <i class="icon icon-muted txt-center"></i>\n                                   <span class="is-vishidden"> {{_i}}Mute {{#getMainTweet}}@{{user.screenName}}{{/getMainTweet}}{{/i}} </span>\n                                 </a>\n                               </li>':""}\n                    ${b.block_item?'\n                               <li class="tweet-detail-action-item btd-tweet-detail-action-item">\n                                 <a class="js-show-tip tweet-detail-action btd-tweet-detail-action btd-clipboard position-rel" href="#"\n                                   data-btd-action="hotlink-media" rel="hotlink" title="Block {{#getMainTweet}}@{{user.screenName}}{{/getMainTweet}}">\n                                   <i class="icon icon-blocked txt-center"></i>\n                                   <span class="is-vishidden"> {{_i}}Block {{#getMainTweet}}@{{user.screenName}}{{/getMainTweet}}{{/i}} </span>\n                                 </a>\n                               </li>':""}\n           {{/getMainTweet}}`)),TD.mustaches["menus/actions.mustache"]=TD.mustaches["menus/actions.mustache"].replace("{{/isOwnChirp}} {{/chirp}} </ul>",`\n      ${b.edit_item?'  \n        <li class="is-selectable">\n          <a href="#" data-btd-action="edit-tweet">{{_i}}"Edit"{{/i}}</a>\n        </li>\n        ':""}\n        {{/isOwnChirp}}\n        ${b.mute_source?'<li class="is-selectable">\n          <a href="#" data-btd-action="mute-source" data-btd-source="{{sourceNoHTML}}">Mute "{{sourceNoHTML}}"</a>\n        </li>':""}\n        ${b.mute_hashtags?'{{#entities.hashtags}}\n          <li class="is-selectable">\n            <a href="#" data-btd-action="mute-hashtag" data-btd-hashtag="{{text}}">Mute #{{text}}</a>\n          </li>\n        {{/entities.hashtags}}':""}\n      {{/chirp}}\n      </ul>\n    `),(0,u.default)(),(0,g.default)(TD.mustaches,b.nm_disp);let D=1;const j={BTDC_getOpenModalTweetHTML:(e,t)=>{const{tweetKey:n,colKey:r,modalHtml:i}=t,o=_(n,r);if(!o)return;let a;o.renderInMediaGallery?a=o.renderInMediaGallery():o.targetTweet&&(a=o.targetTweet.renderInMediaGallery()),k("gotMediaGalleryChirpHTML",{markup:a,chirp:S(o),modalHtml:i,colKey:r})},BTDC_getChirpFromColumn:(e,t)=>{const{chirpKey:n,colKey:r}=t,i=_(n,r);i&&k("gotChirpForColumn",{chirp:S(i),colKey:r})},BTDC_likeChirp:(e,t)=>{const{chirpKey:n,colKey:r}=t,i=_(n,r);i&&i.favorite()},BTDC_retweetChirp:(e,t)=>{const{chirpKey:n,colKey:r}=t,i=_(n,r);i&&i.retweet()},BTDC_renderInstagramEmbed:()=>{instgrm.Embeds.process()},BTDC_showTDBanner:(e,t)=>{const{banner:n}=t;D+=1,$(document).trigger("dataMessage",{message:{id:D,text:n.text,colors:{background:n.bg||"#b2d5ed",foreground:n.fg||"#555"},actions:[{id:`btd-banner-${D}`,action:n.action||"url-ext",actionId:n.event.type,event:n.event,label:n.label,class:"Button--primary",url:n.url}]}})},BTDC_gotDownloadedGif:(e,t)=>{const{file:n,source:r}=t;$(document).trigger("uiFilesAdded",{files:[n],source:r}),$(".btd-gif-indicator").removeClass("-visible")}},A=()=>{if(!window.localStorage.getItem("btd_disable_prompt_follow_twitter")&&!b.need_update_banner&&b.need_follow_banner){const e="4664726178",t=TD.controller.clients.getClientsByService("twitter").map(t=>((e,t)=>new Promise(n=>{e.showFriendship(e.oauth.account.state.userId,t,null,t=>n({id:e.oauth.account.state.userId,following:t.relationship.target.followed_by}))}))(t,e));Promise.all(t).then(e=>{window.localStorage.setItem("btd_disable_prompt_follow_twitter",!0),k("showed_follow_banner"),e.every(e=>!1===e.following)&&j.BTDC_showTDBanner({},{banner:{text:"Do you want to follow Better TweetDeck on Twitter for news, support and tips?",action:"trigger-event",event:{type:"openBtdProfile"},label:"Sure!",bg:"#3daafb",fg:"#07214c"}})})}},M={},E=v&&v.findModule("showNotification")&&v.findModule("showNotification")[0];window.addEventListener("message",e=>{const{origin:t,data:n}=e;return!(!t.includes("tweetdeck.")&&!t.includes("better.tw"))&&(E&&E.showNotification&&E.updateNotification&&(n.message&&"progress_gif"===n.message&&(M[n.name]?n.progress>.99?E.showNotification({message:"Finalizing GIF conversion...",timeoutDelayMs:4e3}):E.updateNotification({notification:M[n.name],message:`Converting to GIF... (${Number(100*n.progress).toFixed(1)}%)`}):M[n.name]=E.showNotification({timeoutDelayMs:2e3,message:`Converting to GIF... (${Number(100*n.progress).toFixed(1)}%)`})),n.message&&"complete_gif"===n.message&&M[n.name]&&(E.showNotification({message:"Conversion finished! Download starting..."}),delete M[n.name])),!!(n.name&&n.name.startsWith("BTDC_")&&j[n.name])&&j[n.name](e,n.detail))});const C=()=>{document.body.dataset.btdtheme=TD.settings.getTheme()},O=e=>{if(e.closest&&e.closest(".column-type-message"))return;if(e.classList&&e.classList.contains("js-mediatable")){const t=e.querySelector("[data-key]").getAttribute("data-key"),n=document.querySelector(`[data-column] [data-key="${t}"]`),r=n&&n.closest("[data-column]").getAttribute("data-column");if(!r)return;const i=_(t,r);if(!i)return;return void k("gotChirpInMediaModal",{chirp:S(i)})}if(!e.hasAttribute||!e.hasAttribute("data-key"))return;const t=e.getAttribute("data-key"),n=e.closest(".js-column");if(!n)return;const r=n.getAttribute("data-column"),i=_(t,r);i&&k("gotChirpForColumn",{chirp:S(i),colKey:r})},N=()=>{$("#open-modal").css("display","none"),$("#open-modal").empty()};new MutationObserver(e=>e.forEach(e=>{[...e.addedNodes].forEach(O)})).observe(document,{subtree:!0,childList:!0});const L=e=>{const t=[];return e.entities.media.forEach(e=>{switch(e.type){case"video":case"animated_gif":t.push((n=e.video_info.variants,n.reduce((e,t)=>(t.bitrate||-1)>(e.bitrate||-1)?t:e)).url.split("?")[0]);break;case"photo":t.push(`${e.media_url_https}:orig`);break;default:throw new Error(`unsupported media type: ${e.type}`)}var n}),t},F=(new a.default(".btd-clipboard",{text:e=>{const t=x(e);switch($(e).attr("rel")){case"hotlink":return L(t).join("\n");default:return!1}}}),(e,t,n)=>e.slice(0,t)+"".repeat(e.slice(t,n).length)+e.slice(n));$(document).on("dataColumns",(e,t)=>{const n=t.columns.filter(e=>e.model.state.settings).map(e=>({id:e.model.privateState.key,mediaSize:e.model.state.settings.media_preview_size}));k("columnsChanged",n)}),new MutationObserver(()=>{C()}).observe(document.querySelector("html"),{attributes:!0}),$(document).on("uiColumnUpdateMediaPreview",(e,t)=>{const n=e.target.closest(".js-column").getAttribute("data-column");k("columnMediaSizeUpdated",{id:n,size:t.value})}),$(document).one("dataColumnsLoaded",()=>{if(k("ready"),"relative"!==b.ts){const e=Object.keys(TD.controller.scheduler._tasks).map(e=>TD.controller.scheduler._tasks[e]).find(e=>3e4===e.period);e&&TD.controller.scheduler.removePeriodicTask(e.id)}$(".js-column").each((e,t)=>{let n=TD.storage.columnController.get($(t).data("column")).getMediaPreviewSize();n||(n="medium"),$(t).attr("data-media-size",n)});const e=window.localStorage.getItem("btd_collapsed_columns");if(e){const t=JSON.parse(e),n=Object.keys(t);$(document).on("uiColumnRendered",(e,r)=>{const{column:i}=r,o=i.model.privateState.apiid;n.includes(o)&&i._btd.toggleCollapse(!(t[o]&&i))})}else window.localStorage.setItem("btd_collapsed_columns",JSON.stringify({}));C();const t=document.createElement("div");t.className="btd-giphy-zone compose",t.innerHTML=(0,m.giphySearch)(),$(".js-app")[0].insertAdjacentElement("beforeend",t),setTimeout(A,2e3),b.keep_hashtags&&(0,p.keepHashtags)(),(0,h.onComposerShown)(e=>{if(!e)return;const t=new Date,n=1===t.getDate()&&3===t.getMonth()?"JIF":"GIF";$(".js-character-count").parent().append(`\n        <span class="btd-gif-button -visible color-twitter-dark-gray">${n}</span>\n        <span class="btd-gif-indicator txt-line-height--20 txt-size--12 color-twitter-dark-gray"></span>\n      `),$(".js-media-added").after('\n        <span\n          class="txt-line-height--12 txt-size--12 color-twitter-dark-gray btd-gif-source-indicator"\n        ></span>\n      ')})}),$(document).on("click",".btd-gif-button",e=>{e.preventDefault(),e.stopPropagation(),$(".btd-giphy-zone").addClass("-visible"),d.trending().then(e=>{$(".btd-giphy-zone .giphy-content").html(e.map(m.giphyBlock).join(""))})});const R=e=>{e.stopPropagation(),e.preventDefault(),$(".btd-giphy-zone").removeClass("-visible"),$(".btd-giphy-zone .giphy-content > *").remove(),$(".giphy-search-input").val("")};$(document).on("input",".giphy-search-input",(0,o.default)(e=>{const t=e.target.value;d.search(t).then(e=>{const t=e.map(m.giphyBlock).join("");$(".btd-giphy-zone .giphy-content").html(t)})},500)),$(document).on("click",".btd-giphy-close",R),$(document).on("click",".btd-giphy-block",e=>{k("downloadGif",{url:e.target.dataset.btdUrl,source:e.target.dataset.btdSource}),$(".btd-gif-button").removeClass("-visible"),$(".btd-gif-indicator").addClass("-visible"),R(e)});const I={tenor:"Tenor",giphy:"GIPHY"};var P;$(document).on("uiResetImageUpload",()=>{$(".btd-gif-button").addClass("-visible")}),$(document).on("uiFilesAdded",(e,t)=>{t.source?$(".btd-gif-source-indicator").html(`GIF via <span class="gif-provider ${t.source}"></span> ${I[t.source]}`):$(".btd-gif-source-indicator").html("")}),$(document).on("uiSearchNoTemporaryColumn",(e,t)=>{if(t.query&&"users"!==t.searchScope&&!t.columnKey){if(b.make_search_columns_first){const e=TD.controller.columnManager._columnOrder;if(e.length>1){const t=e[e.length-1];e.splice(e.length-1,1),e.splice(1,0,t),TD.controller.columnManager.move(t,"left")}}$(".js-app-search-input").val(""),$(".js-perform-search").blur()}}),$(document).keydown(e=>{$("#open-modal [btd-custom-modal]").length&&27===e.keyCode&&N()}),$(document).on("openBtdSettings",(e,t)=>{window.open(t.url)}),$(document).on("openBtdProfile",()=>{$(document).trigger("uiShowProfile",{id:"BetterTDeck"})}),document.addEventListener("paste",e=>{if(e.clipboardData){const t=e.clipboardData.items;if(!t)return;const n=[];if([...t].forEach(e=>{if(e.type.indexOf("image")<0)return;const t=e.getAsFile();n.push(t)}),0===n.length)return;if($(".js-inline-compose-pop, .js-reply-popout").length>0&&!$(".js-app-content").hasClass("is-open"))return $(".js-inline-compose-pop, .js-reply-popout").first().trigger("click"),void setTimeout(()=>{$(document).trigger("uiFilesAdded",{files:n})},0);$(document).trigger("uiFilesAdded",{files:n})}}),$(document).on("uiComposeTweet",(e,t)=>{t&&t.quotedTweet?$(".btd-gif-button").css("display","none"):$(".btd-gif-button").css("display","block")}),$(document).on("uiRemoveQuotedTweet",()=>{$(".btd-gif-button").css("display","block")}),$("body").on("click",'.tweet-action[rel="favorite"],\n  .tweet-detail-action[rel="favorite"],\n  .tweet-action[rel="retweet"],\n  .tweet-detail-action[rel="retweet"],\n  [data-btd-action="hotlink-media"],\n  [data-btd-action="download-media"]',e=>{if(!e.ctrlKey&&!e.metaKey)return;if(!b||!b.ctrl_changes_interactions.enabled)return;e.preventDefault();const t=x(e.target),n=t.retweetedStatus?t.retweetedStatus.user:t.user;switch(b.ctrl_changes_interactions.mode){case"prompt":$(document).trigger("uiShowFollowFromOptions",{userToFollow:n});break;case"owner":default:n.following||n.follow(t.account,null,null,!0)}}),P=TD.vo.Column,TD.vo.Column=class extends P{constructor(...e){super(...e),this._btd={_parent:this,_isCollapsed:!1,isCollapsed(){return this._isCollapsed||!1},collapse(){if(!b.collapse_columns)return;const e=JSON.parse(window.localStorage.getItem("btd_collapsed_columns"));b.collapse_columns_pause&&0===this._parent.ui.getChirpScroller().scrollTop()&&this._parent.ui.pause();const t=this._parent.model.privateState.key;$(`section.column[data-column="${t}"]`).addClass("btd-column-collapsed"),e[this._parent.model.privateState.apiid]=!0,this._isCollapsed=!0,window.localStorage.setItem("btd_collapsed_columns",JSON.stringify(e))},uncollapse(){if(!b.collapse_columns)return;const e=JSON.parse(window.localStorage.getItem("btd_collapsed_columns"));if(e[this._parent.model.privateState.apiid]){b.uncollapse_columns_unpause&&0!==this._parent.ui.getChirpScroller().scrollTop()&&this._parent.ui.unpause();const t=this._parent.model.privateState.key;$(`section.column[data-column="${t}"]`).removeClass("btd-column-collapsed"),delete e[this._parent.model.privateState.apiid],this._isCollapsed=!1,window.localStorage.setItem("btd_collapsed_columns",JSON.stringify(e)),TD.controller.columnManager.showColumn(t)}},toggleCollapse(e=!1){this._isCollapsed||e?this.uncollapse():this.collapse()}}}},$("body").on("click","#column-navigator .column-nav-item",e=>{if(e.preventDefault(),!b.collapse_columns)return;const t=$(e.target.closest("li[data-column]")).data("column");TD.controller.columnManager.get(t)._btd.uncollapse()}),$("body").on("mousedown",".column-panel header.column-header .btd-clear-column-link",e=>{if(e.preventDefault(),!b.clear_column_action||1!==e.which)return;const t=e.target.closest("[data-column]").getAttribute("data-column");TD.controller.columnManager.get(t).clear()}),$("body").on("mousedown",".column-panel header.column-header .btd-toggle-collapse-column-link",e=>{if(e.preventDefault(),!b.collapse_columns||1!==e.which)return;const t=e.target.closest("[data-column]").getAttribute("data-column");TD.controller.columnManager.get(t)._btd.toggleCollapse()}),$("body").on("click",'[data-btd-action="download-media"]',e=>{e.preventDefault();const t=x(e.target);L(t).forEach(e=>{B(e).then(n=>{l.default.saveAs(n,TD.ui.template.render("btd/download_filename_format",T(t,e)))})})}),$("body").on("click",'[data-btd-action="mute-account"]',e=>{e.preventDefault();let t=x(e.target);t=t.targetTweet?t.targetTweet:t;const n=t.retweetedStatus?t.retweetedStatus.user:t.user,r=t.account;$(document).trigger("uiMuteAction",{account:r,twitterUser:n})}),$("body").on("click",'[data-btd-action="block-account"]',e=>{e.preventDefault();let t=x(e.target);t=t.targetTweet?t.targetTweet:t;const n=t.retweetedStatus?t.retweetedStatus.user:t.user,r=t.account;$(document).trigger("uiBlockAction",{account:r,twitterUser:n})}),$("body").on("click","article video.js-media-gif",e=>{e.preventDefault(),e.stopPropagation();const t=e.target.closest("[data-key]").getAttribute("data-key"),n=e.target.closest(".js-column").getAttribute("data-column"),r=_(t,n);if(!r)return;const i={src:r.entities.media[0].video_info.variants[0].url,height:r.entities.media[0].sizes.large.h,width:r.entities.media[0].sizes.large.w};i.name=TD.ui.template.render("btd/download_filename_format",T(r,i.src.replace(/\.mp4$/,".gif"))),k("clickedOnGif",{tweetKey:t,colKey:n,video:i})}),$("body").on("click","#open-modal",e=>{const t=document.querySelector(".js-modal-panel .js-media-preview-container, .js-modal-panel iframe, .js-modal-panel .btd-embed-container");if(b.css.no_bg_modal&&t&&!e.target.closest(".med-tray")&&!e.target.closest(".mdl-btn-media")&&$('a[rel="dismiss"]')[0]&&!e.target.closest(".med-tweet")){if(e.preventDefault(),e.stopPropagation(),$("#open-modal [btd-custom-modal]").length)return void N();$('a[rel="dismiss"]').click()}}),$("body").on("click",'[data-btd-action="edit-tweet"]',e=>{e.preventDefault();const t=x(e.target),n=L(t),r={type:t.chirpType,text:t.text,from:[TD.storage.Account.generateKeyFor("twitter",t.creatorAccount.getUserID())]};if(t.chirpType===TD.services.ChirpBase.MESSAGE&&(r.conversationId=t.conversationId),t.entities.media.length){const e=t.entities.media[0];r.text=F(r.text,...e.indices)}if(t.entities.user_mentions.forEach(e=>{e.isImplicitMention&&(r.text=F(r.text,...e.indices))}),t.entities.urls.forEach(e=>{t.isQuoteStatus&&!t.quotedTweetMissing&&e.expanded_url===t.quotedTweet.getChirpURL()&&(r.text=F(r.text,...e.indices),r.quotedTweet=t.quotedTweet)}),r.text=r.text.replace(/\u0007/gi,""),t.entities.urls.forEach(e=>{r.text=r.text.replace(e.url,e.expanded_url)}),r.text=(0,i.default)(r.text),r.text=r.text.trim(),$(document).trigger("uiComposeTweet",r),t.inReplyToID){const e=t.getMainTweet();r.type="reply",r.mentions=t.getReplyingToUsers(),r.inReplyTo={id:t.id,htmlText:e.htmlText,user:{screenName:e.user.screenName,name:e.user.name,profileImageURL:e.user.profileImageURL}};const n=TD.controller.columnManager.get(t._btd.columnKey).ui.getChirpById(t.inReplyToID);if(n.length){r.element=n[0];const e=x(n[0]);e?(r.mentions=e.getReplyUsers(),r.inReplyTo={id:e.id,htmlText:e.htmlText,user:{screenName:e.user.screenName,name:e.user.name,profileImageURL:e.user.profileImageURL}}):(0,f.default)("reply did not have an element for some reason")}else(0,f.default)("reply did not have an existing chirp in its original column");$(document).trigger("uiComposeTweet",r)}n.length&&Promise.all(n.map(e=>B(e))).then(e=>{$(document).trigger("uiComposeFilesAdded",{files:e})}),$(document).trigger("uiComposeTweet",r),t.destroy()}),$("body").on("click",'[data-btd-action="mute-hashtag"]',e=>{e.preventDefault();const t=$(e.target).data("btd-hashtag");TD.controller.filterManager.addFilter("phrase",`#${t}`)}),$("body").on("click",'[data-btd-action="mute-source"]',e=>{e.preventDefault();const t=$(e.target).data("btd-source");TD.controller.filterManager.addFilter("source",t)}),$("body").on({mouseenter:e=>{if(b&&!b.pause_scroll_on_hover)return;const t=e.target.closest("[data-column]").getAttribute("data-column"),n=TD.controller.columnManager.get(t);0===n.ui.getChirpScroller().scrollTop()&&n.ui.pause()},mouseleave:e=>{if(b&&!b.pause_scroll_on_hover)return;const t=e.target.closest("[data-column]").getAttribute("data-column"),n=TD.controller.columnManager.get(t);1===n.ui.getChirpScroller().scrollTop()&&n.ui.unpause()}},"section.column");const U=e=>`[${e}] TweetDeck`;$(document).on("uiReadStateChange uiMessageUnreadCount",(e,t)=>{if(!b||!b.update_title_on_notifications)return;const{read:n,count:r}=t;Number(r)>0&&"TweetDeck"===document.title&&document.title!==U(r)&&(document.title=U(r)),!1===n&&"TweetDeck"===document.title&&(document.title="[*] TweetDeck"),"TweetDeck"!==document.title&&0===$(".is-new, .js-unread-count.is-visible").length&&(document.title="TweetDeck")});function B(e){return new Promise(t=>{const n=(0,r.default)("media_req_"),i={originalExtension:(o=e).replace(/:[a-z]+$/,"").split(".").pop(),originalFile:o.split("/").pop().split(".")[0]};var o;const a={};switch(i.originalExtension.toLowerCase()){case"mp4":a.type="video/mp4";break;case"gif":a.type="image/gif"}k("downloadMedia",{url:e,type:a.type,fileName:`${i.originalFile}.${i.originalExtension}`,uuid:n}),window.addEventListener("message",(function(e){const{origin:r,data:i}=e;if(!r.includes("tweetdeck.")&&!r.includes("better.tw"))return!1;"BTDC_gotMediaFile"===i.name&&i.detail.uuid===n&&(t(i.detail.file),this.window.removeEventListener("message",this))}))})}$(window).on("focus",e=>{if(!(e.target instanceof Window))return;const t=document.activeElement;if(t&&("TEXTAREA"===t.tagName||"INPUT"===t.tagName))return;const n=[document.querySelector("textarea.compose-text")].find(e=>e&&(e=>{if(!(e instanceof Element))throw Error("not an element");const t=getComputedStyle(e),n=e.getBoundingClientRect(),r=["left","right","top","bottom"].every(e=>n[e]>0);return"none"!==t.display&&"visible"===t.visibility&&r})(e));n&&n.focus()})},function(e,t,n){var r=n(91),i=0;e.exports=function(e){var t=++i;return r(e)+t}},function(e,t,n){var r=n(249);e.exports=function(e,t){var n=-1,i=e.length,o=i-1;for(t=void 0===t?i:t;++n<t;){var a=r(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}},,,,,,,,,,,,,,function(e,t,n){var r=n(91),i=n(238),o=/&(?:amp|lt|gt|quot|#39);/g,a=RegExp(o.source);e.exports=function(e){return(e=r(e))&&a.test(e)?e.replace(o,i):e}},function(e,t,n){var r=n(239)({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});e.exports=r},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,n){var r=n(5),i=n(241),o=n(242),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,f,m=0,h=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=l,r=c;return l=c=void 0,m=t,d=e.apply(r,n)}function v(e){return m=e,p=setTimeout(T,t),h?b(e):d}function w(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-m>=u}function T(){var e=i();if(w(e))return _(e);p=setTimeout(T,function(e){var n=t-(e-f);return g?s(n,u-(e-m)):n}(e))}function _(e){return p=void 0,y&&l?b(e):(l=c=void 0,d)}function x(){var e=i(),n=w(e);if(l=arguments,c=this,f=e,n){if(void 0===p)return v(f);if(g)return clearTimeout(p),p=setTimeout(T,t),b(f)}return void 0===p&&(p=setTimeout(T,t)),d}return t=o(t)||0,r(n)&&(h=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),x.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=f=c=p=void 0},x.flush=function(){return void 0===p?d:_(i())},x}},function(e,t,n){var r=n(0);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(5),i=n(38),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(1)),a=l(n(3)),s=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===r(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return u("action",e)}},{key:"defaultTarget",value:function(e){var t=u("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return u("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(a.default);function u(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=c},function(e,t,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=(r=a)&&r.__esModule?r:{default:r},l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=l},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){var r=n(5),i=n(6);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(7);function i(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=function(e,t,n,r,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}])},e.exports=r()},function(e,t,n){const r=function(e){return r.mID=Math.random().toString(36).substring(7),r.mObj={},r.cArr=[],e?r.debug=!0:window.mRdebug?r.debug=!0:r.debug=!1,r.log=function(e){r.debug&&console.warn(`[moduleRaid] ${e}`)},r.args=[[[0],[function(e,t,n){mCac=n.c,Object.keys(mCac).forEach((function(e){r.mObj[e]=mCac[e].exports})),r.cArr=n.m}]],[[1e3],{[r.mID]:function(e,t,n){mCac=n.c,Object.keys(mCac).forEach((function(e){r.mObj[e]=mCac[e].exports})),r.cArr=n.m}},[[r.mID]]]],fillModuleArray=function(){if("function"==typeof webpackJsonp)r.args.forEach((function(e,t){try{webpackJsonp(...e)}catch(e){r.log(`moduleRaid.args[${t}] failed: ${e}`)}}));else try{webpackJsonp.push(r.args[1])}catch(e){r.log(`Pushing moduleRaid.args[1] into webpackJsonp failed: ${e}`)}if(0==r.mObj.length){if(mEnd=!1,mIter=0,!webpackJsonp([],[],[mIter]))throw Error("Unknown Webpack structure");for(;!mEnd;)try{r.mObj[mIter]=webpackJsonp([],[],[mIter]),mIter++}catch(e){mEnd=!0}}},fillModuleArray(),get=function(e){return r.mObj[e]},findModule=function(e){return results=[],modules=Object.keys(r.mObj),modules.forEach((function(t){if(mod=r.mObj[t],"undefined"!=typeof mod){if("object"==typeof mod.default)for(key in mod.default)key==e&&results.push(mod);for(key in mod)key==e&&results.push(mod)}})),results},findFunction=function(e){if(0==r.cArr.length)throw Error("No module constructors to search through!");if(results=[],"string"==typeof e)r.cArr.forEach((function(t,n){t.toString().includes(e)&&results.push(r.mObj[n])}));else{if("function"!=typeof e)throw new TypeError("findFunction can only find via string and function, "+typeof e+" was passed");modules=Object.keys(r.mObj),modules.forEach((function(t,n){mod=r.mObj[t],e(mod)&&results.push(r.mObj[n])}))}return results},{modules:r.mObj,constructors:r.cArr,findModule:findModule,findFunction:findFunction,get:get}};e.exports?e.exports=r:window.mR=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){TD.vo.Filter.prototype._getDisplayType=TD.vo.Filter.prototype.getDisplayType,TD.vo.Filter.prototype._pass=TD.vo.Filter.prototype.pass,window.BTD||(window.BTD={}),BTD.Filters={BTD_specific_tweet:{name:"Specific tweet",descriptor:"specific tweet",placeholder:"ID of tweet",options:{templateString:"{{chirp.id}}",nameInDropdown:"Hide this tweet"},function:(e,t)=>t.id!==e.value},BTD_is_retweet_from:{display:{actions:!0},name:"Retweets from User",descriptor:"retweets from",placeholder:"e.g. tweetdeck",function:(e,t)=>!(t.isRetweetedStatus()&&e.value===t.user.screenName.toLowerCase())},BTD_mute_user_keyword:{display:{global:!0},name:"Keyword from User",descriptor:"user|keyword: ",placeholder:"e.g. tweetdeck|feature",function(e,t){if(!t.user)return!0;const n=e.value.split("|"),r=n[0],i=n[1];return!(t.text.toLowerCase().includes(i)&&r===t.user.screenName.toLowerCase())}},BTD_regex:{display:{global:!0},name:"Regular Expression",descriptor:"tweets matching",placeholder:"Enter a regular expression",function(e,t){const n=new RegExp(e.value,"g");return!t.getFilterableText().match(n)}},BTD_mute_quotes:{display:{actions:!0},name:"Quotes from User",descriptor:"quotes from",placeholder:"e.g. tweetdeck",function:(e,t)=>!t.user||!(t.isQuoteStatus&&e.value===t.user.screenName.toLowerCase())},BTD_user_biographies:{display:{global:!0},name:"Biography",descriptor:"users whose bio contains",placeholder:"Enter a keyword or phrase",function:(e,t)=>!t.user||!t.user.description.toLowerCase().includes(e.value)},BTD_default_avatars:{display:{global:!0},name:"Default Profile Pictures",descriptor:"users having a default profile picture",placeholder:"Write something random here",function:(e,t)=>!t.user||!t.user.profileImageURL.includes("default")},BTD_follower_count_less_than:{display:{global:!0},name:"Follower count less than",descriptor:"users with less followers than",placeholder:"Enter a number",function:(e,t)=>!t.user||!(t.user.followersCount<parseInt(e.value,10))},BTD_follower_count_greater_than:{display:{global:!0},name:"Follower count more than",descriptor:"users with more followers than",placeholder:"Enter a number",function:(e,t)=>!t.user||!(t.user.followersCount>parseInt(e.value,10))}},TD.vo.Filter.prototype.pass=function(e){if(this.type.startsWith("BTD")){const t=this;return e=this._getFilterTarget(e),BTD.Filters[this.type].function(t,e)}return this._pass(e)},TD.vo.Filter.prototype.getDisplayType=function(){return void 0!==BTD.Filters[this.type]?BTD.Filters[this.type].descriptor:this._getDisplayType()},BTD.filterDropdown=function(){const e=Object.keys(BTD.Filters);let t="";return e.forEach(e=>{const n=BTD.Filters[e];n.display&&n.display.global&&(t+=`<option value="${e}">{{_i}}${n.name}{{/i}}</option>`)}),t},BTD.userDropdown=function(){const e=Object.keys(BTD.Filters);let t="";return e.forEach(e=>{const n=BTD.Filters[e];if(n.display&&n.display.actions){const r=n.options&&n.options.templateString?n.options.templateString:"{{screenName}}",i=n.options&&n.options.nameInDropdown?n.options.nameInDropdown:`Mute ${n.name}`;t+=`<li class="is-selectable">\n            <a href="#" data-btd-filter="${e}" data-btd-value="${r}">{{_i}}${i}{{/i}}</a>\n          </li>`}}),t},$(document).on("change",".js-filter-types",e=>{e.preventDefault();const t=e.target.options,n=e.target.options[t.selectedIndex].value;n.startsWith("BTD")&&$(".js-filter-input").attr("placeholder",BTD.Filters[n].placeholder)}),$("body").on("click","[data-btd-filter]",e=>{e.preventDefault();const t=$(e.target).data("btd-filter"),n=$(e.target).data("btd-value");TD.controller.filterManager.addFilter(t,n)}),TD.mustaches["settings/global_setting_filter.mustache"]=TD.mustaches["settings/global_setting_filter.mustache"].replace("</select>",`${BTD.filterDropdown()}</select>`),TD.mustaches["menus/actions.mustache"]=TD.mustaches["menus/actions.mustache"].replace("{{/isMuted}} ",`{{/isMuted}} {{#user}} {{^isMe}} ${BTD.userDropdown()} {{/isMe}} {{/user}}`);const e=BTD.Filters.BTD_specific_tweet;TD.mustaches["menus/actions.mustache"]=TD.mustaches["menus/actions.mustache"].replace("{{/isOwnChirp}}",`{{/isOwnChirp}}\n          <li class="is-selectable">\n            <a href="#" action="_" data-btd-filter="BTD_specific_tweet" data-btd-value="${e.options.templateString}">${e.options.nameInDropdown}</a>\n          </li>\n        `)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(222)),i=l(n(247));t.trending=function(){return Promise.all([d("trending",{limit:10}),p("trending",{limit:10})]).then(e=>{const t=c(e[0]),n=u(e[1]);return(0,i.default)([...t,...n])})},t.search=function(e){return Promise.all([d("search",{limit:10,q:e}),p("search",{limit:10,q:e})]).then(e=>{const t=c(e[0]),n=u(e[1]);return(0,i.default)([...t,...n])})},t.default=function(e,t={}){if(!e)throw new Error("specify a endpoint!");const n=a.default.stringify(Object.assign({key:o.Client.APIs.tenor},t));return fetch(`https://api.tenor.com/v1/${e}?${n}`).then(e=>e.json())};var o=n(9),a=l(n(49)),s=n(221);function l(e){return e&&e.__esModule?e:{default:e}}const c=e=>e.results.map(e=>({preview:{url:e.media[0].tinygif.url,width:e.media[0].tinygif.dims[0],height:e.media[0].tinygif.dims[1]},url:e.media[0].gif.url,source:"tenor"})),u=e=>e.data.map(e=>({preview:e.images.preview_gif,url:e.images.original.url,source:"giphy"})),d=(e,t={})=>{if(!e)throw new Error("specify a endpoint!");return f(`https://api.tenor.com/v1/${e}?${a.default.stringify(Object.assign({key:o.Client.APIs.tenor},t))}`)},p=(e,t={})=>{if(!e)throw new Error("specify a endpoint!");return f(`https://api.giphy.com/v1/gifs/${e}?${a.default.stringify(Object.assign({api_key:o.Client.APIs.giphy},t))}`)};function f(e){return new Promise(t=>{const n=(0,r.default)("gif_req_");(0,s.proxyEvent)("makeGifPickerRequest",{url:e,uuid:n}),window.addEventListener("message",(function(e){const{origin:r,data:i}=e;if(!r.includes("tweetdeck.")&&!r.includes("better.tw"))return!1;"BTDC_gotGifPickerRequest"===i.name&&i.detail.uuid===n&&(t(i.detail.res),this.window.removeEventListener("message",this))}))})}},function(e,t,n){var r=n(248),i=n(250),o=n(4);e.exports=function(e){return(o(e)?r:i)(e)}},function(e,t,n){var r=n(101),i=n(223);e.exports=function(e){return i(r(e))}},function(e,t){var n=Math.floor,r=Math.random;e.exports=function(e,t){return e+n(r()*(t-e+1))}},function(e,t,n){var r=n(223),i=n(251);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(252),i=n(41);e.exports=function(e){return null==e?[]:r(e,i(e))}},function(e,t,n){var r=n(64);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keepHashtags=function(){let e=[];function t(){const t=document.querySelector("textarea.js-compose-text");t&&0!==e.length&&(t.value=` ${e.map(e=>`#${e}`).join(" ")}`,t.selectionStart=0,t.selectionEnd=0,t.dispatchEvent(new Event("change")))}document.body.addEventListener("keyup",t=>{if(!t.target.matches("textarea.js-compose-text"))return;const n=t.target.value,r=window.twttrTxt.extractHashtags(n);e=r},!0),(0,r.onComposerDisabledStateChange)(e=>{e||t()}),(0,r.onComposerShown)(e=>{e&&t()})};var r=n(70)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=(...t)=>r(e,...t);switch("username"!==t&&"inverted"!==t||(n("text/user_link_fullname","{{#unsafe}}{{{name}}}{{/unsafe}}{{^unsafe}}{{name}}{{/unsafe}}","{{#btd.usernameFromURL}}{{profileUrl}}{{/btd.usernameFromURL}}"),n("status/tweet_single",'<a href="{{getProfileURL}}" rel="user" target="_blank">{{{emojifiedName}}}</a>','\n      <a href="{{getProfileURL}}" rel="user" target="_blank">{{#btd.usernameFromURL}}{{getProfileURL}}{{/btd.usernameFromURL}}</a>\n    '),n("status/conversation_join_preview","{{sender.name}}","@{{sender.screenName}}"),n("status/conversation_join",'<a href="{{profileURL}}" rel="user" target="_blank">{{name}}</a>','<a href="{{profileURL}}" rel="user" target="_blank">@{{#btd.usernameFromURL}}{{profileURL}}{{/btd.usernameFromURL}}</a>')),t){case"fullname":n("status/tweet_single_header",'<span class="username txt-mute">@{{screenName}}</span>'," "),n("status/conversation_header","@{{screenName}}</span>","</span>");break;case"username":n("status/tweet_single_header",'<span class="username txt-mute">@{{screenName}}</span>'," "),n("status/tweet_single_header",'<b class="fullname link-complex-target">{{{emojifiedName}}}</b>','<b class="fullname link-complex-target">{{screenName}}</b>'),n("status/conversation_header",'<b class="link-complex-target">{{{emojifiedName}}}</b> <span class="attribution username txt-mute txt-small">@{{screenName}}</span>','<b class="link-complex-target">{{screenName}}</b>'),n("status/conversation_header",/{{{emojifiedName}}}/g,"{{screenName}}");break;case"inverted":n("status/tweet_single_header","{{{emojifiedName}}}","{{screenName}}"),n("status/tweet_single_header","@{{screenName}}","{{{emojifiedName}}}"),n("status/conversation_header",/{{{emojifiedName}}}/g,"{{screenName}}"),n("status/conversation_header",/@{{screenName}}/g,"{{{emojifiedName}}}")}};const r=(e,t,...n)=>{e[`${t}.mustache`]=e[`${t}.mustache`].replace(...n)}}]);